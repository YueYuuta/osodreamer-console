
> osodreamer-web-console@1.0.2 test
> jest

ts-jest[config] (WARN) message TS151001: If you have issues related to imports, you should consider setting `esModuleInterop` to `true` in your TypeScript configuration file (usually `tsconfig.json`). See https://blogs.msdn.microsoft.com/typescript/2018/01/31/announcing-typescript-2-7/#easier-ecmascript-module-interoperability for more information.
FAIL tests/renderer.test.ts
  ÔùÅ Renderer ÔÇ║ applying trigger config

    expect(received).toContain(expected) // indexOf

    Expected substring: "DEBUG"
    Received string:    "<div class=\"odc__dot\"></div>"

      110 |         renderer.setConfig({ trigger: { text: 'DEBUG', color: 'blue', position: 'top-left' } });
      111 |         const btn = document.getElementById('odc-btn') as HTMLElement;
    > 112 |         expect(btn.innerHTML).toContain('DEBUG');
          |                               ^
      113 |         expect(btn.style.getPropertyValue('--odc-trigger-bg')).toBe('blue');
      114 |     });
      115 |

      at Object.<anonymous> (tests/renderer.test.ts:112:31)

PASS tests/mocks.test.ts
PASS tests/index.test.ts
PASS tests/error.test.ts
  ÔùÅ Console

    console.error
      Uncaught: Msg Error: Global Error
          at Object.<anonymous> (C:\Users\usuario\Documents\library\osodreamer-console\tests\error.test.ts:20:21)
          at Promise.then.completed (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\usuario\Documents\library\osodreamer-console\node_modules\jest-runner\build\runTest.js:444:34)

      14 |             (this.originalConsole as any)[m] = (console as any)[m];
      15 |             (console as any)[m] = (...args: any[]) => {
    > 16 |                 this.originalConsole[m].apply(console, args);
         |                                         ^
      17 |                 this.store.addLog({
      18 |                     type: m as LogType,
      19 |                     args,

      at console.<computed> [as error] (src/hooks/console.ts:16:41)
      at window.onerror (src/hooks/error.ts:13:21)
      at Object.<anonymous> (tests/error.test.ts:22:16)

    console.error
      Unhandled Rejection: Error: Promise Fail

      14 |             (this.originalConsole as any)[m] = (console as any)[m];
      15 |             (console as any)[m] = (...args: any[]) => {
    > 16 |                 this.originalConsole[m].apply(console, args);
         |                                         ^
      17 |                 this.store.addLog({
      18 |                     type: m as LogType,
      19 |                     args,

      at console.<computed> (src/hooks/console.ts:16:41)
      at console.<computed> [as error] (src/hooks/console.ts:16:41)
      at window.onunhandledrejection (src/hooks/error.ts:18:21)
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/EventHandlerNonNull.js:14:28)
      at node_modules/jsdom/lib/jsdom/living/helpers/create-event-accessor.js:35:32
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at EventTargetImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at EventTargetImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.<anonymous> (tests/error.test.ts:33:16)

PASS tests/store.test.ts
PASS tests/network.test.ts
PASS tests/draggable.test.ts
PASS tests/hooks.test.ts
  ÔùÅ Console

    console.log
      test message

      at console.<computed> [as log] (src/hooks/console.ts:16:41)

    console.error
      critical error

      14 |             (this.originalConsole as any)[m] = (console as any)[m];
      15 |             (console as any)[m] = (...args: any[]) => {
    > 16 |                 this.originalConsole[m].apply(console, args);
         |                                         ^
      17 |                 this.store.addLog({
      18 |                     type: m as LogType,
      19 |                     args,

      at console.<computed> [as error] (src/hooks/console.ts:16:41)
      at Object.<anonymous> (tests/hooks.test.ts:28:17)


Test Suites: 1 failed, 7 passed, 8 total
Tests:       1 failed, 54 passed, 55 total
Snapshots:   0 total
Time:        1.778 s
Ran all test suites.
